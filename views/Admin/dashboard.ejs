<%- include('partials/header.ejs') %>
<h3>Welcome Admin</h3>
<form method="POST" action="/logout" style="float: inline-end;">
    <button type="submit" class="btn btn-dark">Log Out</button>
</form>
<% if(messages.error){ %>
<div class="alert alert-danger" style="margin-bottom: 1em !important; display: inline-block; width: 100%;">
    <%= messages.error %></div>
<%}%>
    <table class="table table-striped table-responsive mt-5">
        <thead>
            <tr>
                <th scope="col">EmpID</th>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Password</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <% employees.forEach(employee =>{ %>
                <tr>
                    <td><%= employee.empID %></td>
                    <td><%= employee.firstName %></td>
                    <td><%= employee.lastName %></td>
                    <td><%= employee.password %></td>
                    <td>
                        <form action="/employeeDelete" method="POST" style="display: inline;" class="pl-4">
                            <input type="hidden" value="<%= employee.empID %>" name="empID">
                            <button type="submit" style="border: none;"
                                onclick="return confirm('Are you sure you want to Delete?');"><i
                                    class="lnr lnr-trash" aria-hidden="true"></i></button>
                        </form>
                    </td>
                </tr>
                <%  }) %>
        </tbody>
       </table>

    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#category"> Add new Employee</button>
    <div class="modal fade right" id="category" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true" data-backdrop="false">
        <div class="modal-dialog modal-full-height modal-right modal-notify modal-info" role="document">
            <div class="modal-content">
                <!--Header-->
                <div class="modal-header">
                    <p class="heading lead" style="display: inline;">Add new Employee</p>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true" class="white-text">Ã—</span>
                    </button>
                </div>

                <!--Body-->
                <form action="/addEmployee" method="POST" style="padding: 2em;">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="firstName">First Name</label>
                            <input type="text" class="form-control" id="firstname" name="firstName" placeholder="First name" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="lastName">Last Name</label>
                            <input type="text" class="form-control" id="LastName" name="lastName"
                                placeholder="Last name" required>
                        </div>
                    </div>
                    <div class="form-group col-md-12">
                        <label for="empID">Employee ID</label>
                        <input type="empID" class="form-control" name="empID" id="empID" placeholder="Employee ID" required>
                    </div>
                       
                    <div class="form-group col-md-12">
                        <label for="password">Password</label>
                        <input type="text" class="form-control" id="password" name="password"
                            placeholder="password" required>
                    </div>

                        <div class="modal-footer justify-content-center mt-4">
                            <button type="submit" class="btn btn-primary waves-effect waves-light">Add</button>

                            <a type="button" class="btn btn-outline-primary waves-effect"
                                data-dismiss="modal">Cancel</a>
                        </div>
                </form>

            </div>
            <!--Footer-->

        </div>
    </div>
<%- include('partials/footer.ejs') %>